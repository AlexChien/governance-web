<html>
  <head>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.2.3/milligram.min.css">
  </head>
  <body class="container" style="padding-top: 3%;">
    <!--<h2><a href="index.html">ethjs</a></h2>-->
    <h4>Evolution Land Vote</h4>

    <hr />

    <div id="address"></div>
    <div class="row">
      <div class="column column-60">
        <label>approve kton!</label>
        <input id="ktonAmount" type="number"/>
        <button id="approve">Approve</button>
        
        <label>stake or withdraw!</label>
        <input id="valueAmount" type="number"/>
        <button id="stake">Stake</button>
        <button id="withdraw">Withdraw</button>
        <button id="getvote">GetVote</button>
        <br /><br />

        <div id="response" style="padding: 20px; border: 1px solid #9b4dca; word-wrap: break-word">
          response...
        </div>
      </div>
    </div>

    <br /><br />

    <script type="text/javascript" src="web3_bundle.js"></script>
    <script type="text/javascript">
      var el = function(id){ return document.querySelector(id); };
      // uncomment to enable MetaMask support:
      if (typeof window.web3 !== 'undefined' && typeof window.web3.currentProvider !== 'undefined') {
          console.log(web3.eth.coinbase);
          if (web3.eth.coinbase) {
              el('#address').innerHTML = web3.eth.coinbase + " has connected";
          } else {
              el('#address').innerHTML = '<button id="connect">Connect</button>'
              el('#connect').addEventListener('click', function(){
                  window.ethereum.enable();
                  if (web3.eth.coinbase) {
                      el('#address').innerHTML = web3.eth.coinbase;
                      el('#response').innerHTML = web3.eth.coinbase + "has connected"
                  }
              });
          }
      } else {
        //eth.setProvider(provider); // set to TestRPC if not available
      }

    </script>
  </body>
</html>
